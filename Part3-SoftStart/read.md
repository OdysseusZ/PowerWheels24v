I've added two versions of the code.  The "DCDC" version is if you decide to use the DC to DC stepdown method instead of the digital switch method. 
